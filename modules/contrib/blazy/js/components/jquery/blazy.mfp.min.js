!function(u,h,s){"use strict";var a,o,l,g=jQuery,t="b-mfp",i="data-mfp",r="is-"+t,c="["+i+"-gallery]:not(."+r+")",m="["+i+"-trigger]",d=h.blazy||{},v=u.sanitizer;function e(i){var e,f,p,n=u.findAll(i,m),t=(f=[],p=(e=n).length,u.each(e,function(i,e){var n,t=u.parse(u.attr(i,"data-b-media")),a=i.nextElementSibling,o=a&&u.hasClass(a,"litebox__caption"),l=u.attr(i,"href"),s={el:g(i)},r=s.boxType=t.boxType,c="",m=t.width,d=!1;"image"===r?(n=l,s.type="image"):("html"in t?(d="video"===r,l=t.html,t.encoded&&(l=atob(l)),n=v.sanitize(l),s.type="inline"):"iframe"===r&&(d=!0,n=h.theme("blazyMedia",{el:i}),s.type="inline"),n&&(m&&d&&(c=' style="width:'+m+'px;"'),n='<div class="mfp-html mfp-html--'+r+'"'+c+'><div class="mfp-inner">'+n,o&&(n+='<div class="mfp-bottom-bar"><div class="mfp-title">'+v.sanitize(a.innerHTML)+'</div><div class="mfp-counter">'+(e+1)+"/"+p+"</div></div>"),n+="</div></div>")),n&&(s.src=n),o&&(s.title=v.sanitize(a.innerHTML)),f.push(s)}),f);u(i).magnificPopup({items:t,gallery:{enabled:1<n.length,navigateByImgClick:!0,tCounter:"%curr%/%total%"},preloader:!0,callbacks:{beforeClose:function(){var i=this.currItem;i&&i.inlineElement&&y(i.inlineElement[0])},change:function(){b(this,!0)},open:function(){var i=this.wrap;i&&i.length&&setTimeout(function(){u.addClass(i[0],"mfp-on"),d.load&&d.load(i[0])},100)}},mainClass:"mfp-with-zoom",zoom:{enabled:!0,duration:300,easing:"ease-in-out",opener:function(i){return b(this),g(a||i.data.el)}}}),u.on(i,"click",m,function(i){i=a=i.target;o=u.index(i,[".box",".grid",".field__item","li",".slide"]),setTimeout(function(){(l=u.magnificPopup.instance)&&l.goTo(o)})},!1),u.addClass(i,r)}function b(i,e){var n,t,a,o,l=i.content;return l&&l.length&&(t=l[0],a=u.find(t,"img"),(o=u.isElm(a))||(l=u.find(t,"video"),!u.isElm(l)||(l=u.attr(l,"poster"))&&((a=s.createElement("img")).decoding="async",a.src=l)),(o=u.isElm(a))&&(n=i.currItem.img=g(a),i.currItem.hasSize=o),e&&u.hasClass(t,"media media-wrapper mfp-html")&&y(t,!0)),n}function y(i,e){var n=u.hasClass(i,"media")?i:u.find(i,".media");u.isElm(n)&&(h.detachBehaviors(n),e&&setTimeout(function(){h.attachBehaviors(n),d&&d.load(n)}))}h.behaviors.blazyMagnificPopup={attach:function(i){var n;g&&u.isFun(g.fn.magnificPopup)&&!u.isFun(u.fn.magnificPopup)&&(n=g.fn.magnificPopup,u.fn.magnificPopup=function(i){var e=u(n.apply(this,arguments));return u.isUnd(u.magnificPopup)&&(u.magnificPopup=g.magnificPopup),e}),u.once(e,t,c,i)},detach:function(i,e,n){"unload"===n&&u.once.removeSafely(t,c,i)}}}(dBlazy,Drupal,this.document);
